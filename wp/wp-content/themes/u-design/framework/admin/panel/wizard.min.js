!function(e,a){"use strict";var i=window.themeAdmin||{},t={install_plugins:function(e){(new s).init(e)},optimize_resources:function(e){i.OptimizeWizard.optimizeResources(e)},install_plugin:function(e){(new s).demoInit(e)}};function s(){var e,i,t=0,s="",n="";function l(e){var t=i.find(".plugin-status span");if(i.find(".plugin-status span.update").length&&(t=i.find(".plugin-status span.update")),"object"==typeof e&&void 0!==e.message)if(void 0!==e.done&&1==e.done&&(t.hasClass("update")&&(t.remove(),t=i.find(".plugin-status span"),i.find(".plugin-version span:first-child").remove()),t.removeClass("required recommended")),t.text(e.message),i.find(".plugin-action input").css("visibility","hidden"),i.find(".d-loading").css("visibility","visible"),void 0!==e.url)e.hash==n?(t.hasClass("recommended")&&t.removeClass("recommended").addClass("required"),t.text("undefined"==typeof alpha_setup_wizard_params?alpha_optimize_wizard_params.texts.failed:alpha_setup_wizard_params.texts.failed),i.find(".demo-plugin").length&&(i.removeClass("installing"),i.find(".demo-plugin").text("Failed"),i.siblings().find(".demo-plugin").css("pointer-events","")),r()):(n=e.hash,a.post(e.url+"&activate-multi=true",e,(function(a){o(),t.text(e.message)})).fail(l));else if(void 0!==e.done){if(i.find(".demo-plugin").length){var s=i.data("plugin");a(".theme-wrapper").length&&a('.theme-wrapper .plugins-used [data-plugin="'+s+'"]').remove(),i.removeClass("installing").addClass("installed"),i.find(".demo-plugin").text("Installed"),i.siblings().find(".demo-plugin").css("pointer-events",""),setTimeout((function(){i.fadeOut(400)}),100),a(".alpha-install-demo .plugins-used [data-plugin]").filter((function(){return"none"!=this.style.display&&null==this.querySelector(".installed .demo-plugin")})).length?a(".alpha-install-demo .alpha-install-section").slideUp():a(".alpha-install-demo .alpha-install-section").slideDown()}r()}else r();else i.hasClass("demo-plugin")&&(i.removeClass("installing"),i.text("Failed"),i.siblings().find(".demo-plugin").css("pointer-events","")),t.text("undefined"==typeof alpha_setup_wizard_params?alpha_optimize_wizard_params.texts.ajax_error:alpha_setup_wizard_params.texts.ajax_error),r()}function o(){s&&a.post(ajaxurl,{action:"undefined"==typeof alpha_setup_wizard_params?"alpha_optimize_wizard_plugins":"alpha_setup_wizard_plugins",wpnonce:"undefined"==typeof alpha_setup_wizard_params?alpha_optimize_wizard_params.wpnonce:alpha_setup_wizard_params.wpnonce,slug:s},l).fail(l)}function r(){var n=!1;i&&(i.data("done_item")||(t++,i.data("done_item",1)),i.find(".plugin-action input").css("visibility","visible"),i.find(".d-loading").css("visibility","hidden")),a(".alpha-plugins>li").each((function(){a(this).hasClass("installing")&&(""==s||n?(s=a(this).data("slug"),i=a(this),o(),n=!1):a(this).data("slug")==s&&(n=!0))})),t>=a(".alpha-plugins>li.installing").length&&e()}return{init:function(i){a(".alpha-plugins > li").each((function(){a(this).find('input[type="checkbox"]').is(":checked")&&a(this).addClass("installing")})),e=function(){a(i).attr("href")&&"#"!=a(i).attr("href")?window.location.href=i.href:window.location.reload()},r()},demoInit:function(a){a&&(a.addClass("installing").text("Installing"),a.closest("li").find(".d-loading").css("visibility","visible"),a.closest("li").siblings().find(".demo-plugin").css("pointer-events","none")),s=a.data("slug"),i=a.closest("li"),o(),e=function(){}}}}var n={init:function(){this.initUI()},doLoading:function(e){e.closest(".run-tool").addClass("installing"),e.append('<span class="d-loading"><i></i></span>')},endLoading:function(e){e.children(".d-loading").remove(),e.closest(".run-tool").removeClass("installing")},initUI:function(){a(document.body).on("click",".button-next",(function(e){var i=e.currentTarget,s=a(i);if(n.loadingButton(e.currentTarget)){if(!s.data("callback")||void 0===t[s.data("callback")])return!0;e.preventDefault(),t[s.data("callback")](i)}return!1})).on("click",".button-recommendations",(function(e){e.preventDefault();var i=e.currentTarget,t=a(i),s=t.data("recommend");n.doLoading(t),setTimeout((function(){if(a('.alpha-wizard-content input[type="checkbox"]').prop("checked",!1),s){var e=alpha_optimize_wizard_params.recommendations[s];Object.keys(e).forEach((function(i){if("object"==typeof e[i]){var t=e[i];for(var s in t)a('[name="'+i+'"][value="'+t[s]+'"]').prop("checked",!0),a('[name="'+i+'[]"][value="'+t[s]+'"]').prop("checked",!0)}else!0===e[i]&&a('[name="'+i+'"]').prop("checked",!0)}))}n.endLoading(t)}),350)})).on("click",".alpha-card-header",(function(e){var i=a(e.currentTarget),t=i.parent();t.toggleClass("active"),t.hasClass("active")?i.siblings(".alpha-card-list").slideDown():i.siblings(".alpha-card-list").slideUp()})).on("click",".demo-plugin",(function(e){if(!a(this).data("callback")||void 0===t[a(this).data("callback")])return!0;e.preventDefault(),t[a(this).data("callback")](a(this))}))},loadingButton:function(e){var i=a(e);if("yes"==i.data("done-loading"))return!1;var t=i.text(),s=i.outerWidth(),n="⡀⡀⡀⡀⡀⡀⡀⡀⡀⡀⠄⠂⠁⠁⠂⠄",l=!1;i.css("width",s),i.addClass("button-loading");var o=i.is("input")||i.is("button")?"val":"text";i[o](n),i.data("done-loading","yes");var r=[0,1,2];return function e(){if(!l){for(var a="",t=0;t<r.length;t++)r[t]=r[t]+1,r[t]>=n.length&&(r[t]=0),a+=n.charAt(r[t]);i[o](a),setTimeout((function(){e()}),60)}}(),{done:function(){l=!0,i[o](t),i.removeClass("button-loading"),i.attr("disabled",!1)}}}},l={init:function(){this.initUI(),this.deactivatePlugins(".installed-plugins > li a"),this.sharePlugins()},initUI:function(){a(document.body).on("click",".checkbox-toggle",(function(e){var i=a(this);i.find(".toggle").hasClass("none")?(i.find(".toggle").removeClass("none").addClass("all"),i.closest(".alpha-card").find(".element:not(:disabled)").prop("checked",!0)):(i.find(".toggle").removeClass("all").addClass("none"),i.closest(".alpha-card").find(".element:not(:disabled)").prop("checked",!1)),e.stopImmediatePropagation()})).on("click",".element",(function(e){var i=a(this),t=!0,s=!0;i.closest(".alpha-card").find(".element:not(:disabled)").each((function(){return this.checked?s=!1:t=!1,s||t})),i.closest(".alpha-card").find(".toggle").removeClass("all none").addClass(t?"all":s?"none":"")})).on("click",".alpha-resource-steps .step > a",(function(e){var i=a(this),t=i.parent().siblings().find(".active");t.removeClass("active"),i.addClass("active"),a(t.attr("href")).css("display","none"),a(i.attr("href")).css("display","block"),e.preventDefault()})).on("click",".step-navs > a",(function(e){var i=a(this),t=a(".alpha-resource-steps .step > a"),s=i.data("step");a(t[Number(s)-1]).trigger("click")}))},optimizeResources:function(e){var i={action:"alpha_optimize_wizard_resources_optimize",resource_disable_gutenberg:a('.alpha-optimize-resources-form [name="resource_disable_gutenberg"]')[0].checked,resource_disable_emojis:a('.alpha-optimize-resources-form [name="resource_disable_emojis"]')[0].checked,resource_disable_jq_migrate:a('.alpha-optimize-resources-form [name="resource_disable_jq_migrate"]')[0].checked,resource_jquery_footer:a('.alpha-optimize-resources-form [name="resource_jquery_footer"]')[0].checked,resource_merge_stylesheets:a('.alpha-optimize-resources-form [name="resource_merge_stylesheets"]')[0].checked,resource_critical_css:a('.alpha-optimize-resources-form [name="resource_critical_css"]')[0].checked,wpnonce:alpha_optimize_wizard_params.wpnonce},t={};a('.alpha-optimize-resources-form [name="resource_template_builders"]').length&&a('.alpha-optimize-resources-form [name="resource_template_builders"]').each((function(){this.checked&&(t[this.value]="disable")})),i.resource_template_builders=JSON.stringify(t),a('.alpha-optimize-resources-form [name="resource_disable_wc_blocks"]').length&&(i.resource_disable_wc_blocks=a('.alpha-optimize-resources-form [name="resource_disable_wc_blocks"]')[0].checked),a('.alpha-optimize-resources-form [name="resource_disable_elementor"]').length&&(i.resource_disable_elementor=a('.alpha-optimize-resources-form [name="resource_disable_elementor"]')[0].checked),a('.alpha-optimize-resources-form [name="resource_disable_rev"]').length&&(i.resource_disable_rev=a('.alpha-optimize-resources-form [name="resource_disable_rev"]')[0].checked),a('.alpha-optimize-resources-form [name="rev_pages"]').length&&(i.rev_pages=a('.alpha-optimize-resources-form [name="rev_pages"]').val()),a.ajax({url:ajaxurl,data:i,type:"post",success:function(){var a=e.getAttribute("href");a&&"#"!=a?window.location.href=a:window.location.reload()}}).fail((function(){})).always((function(){}))},deactivatePlugins:function(e){a(e).on("click",(function(e){a.ajax({url:ajaxurl,data:{action:"alpha_optimize_wizard_plugins_deactivate",url:a(this).attr("href"),wpnonce:alpha_optimize_wizard_params.wpnonce},type:"post",success:function(){window.location.reload()}}).fail((function(){})).always((function(){})),e.preventDefault()}))},sharePlugins:function(){var e;a(".btn-plugins").on("click",(function(i){e="",a(".installed-plugins > li:not(:first-child) label").each((function(a){e+=(0==a?"":",")+this.innerHTML+"(v"+this.getAttribute("data-version")+")"})),a("#share_plugins")[0].checked&&a.post(alpha_optimize_wizard_params.plugin_list_add,{plugins:e,domain:window.location.origin})}))}},o={init:function(){this.initUI(),this.initPluginsUI(),this.initDemoImportUI(),this.initDemoRemove(),this.initNotes(),this.dummy_index=0,this.dummy_count=0,this.dummy_process="import_start",this.subpages_index=0,this.subpages_count=0,this.subpages_process="import_start"},initNotes:function(){let e=0,i=a(".alpha-installing-notes .alpha-installing-note");setInterval((function(){i.eq(e).addClass("show").siblings().removeClass("show"),e=(e+1)%i.length}),7e3)},initUI:function(){a(".button-load-plugins a").on("click",(function(e){e.preventDefault(),a(this).parent().hide().siblings(".hidden").hide().fadeIn().removeClass("hidden")})),a(".button-upload").on("click",(function(i){var t,s;i.preventDefault(),void 0===t?((t=e.media.frames.file_frame=e.media({title:"Upload Logo",button:{text:"Select Logo"},multiple:!1})).on("select",(function(){s=t.state().get("selection").first().toJSON(),a(".site-logo").attr("src",s.url),a("#new_logo_id").val(s.id)})),t.open()):t.open()}))},initPluginsUI:function(){a(".alpha-plugins input").on("change",(function(){var e=0;e+=a(".alpha-plugins [data-slug=elementor] input").is(":checked")?1:0,e+=a(".alpha-plugins [data-slug=visualcomposer] input").is(":checked")?1:0,e+=a(".alpha-plugins [data-slug=js_composer] input").is(":checked")?1:0,a(".use-multiple-editors").css("display",e>=2?"inline-block":"none")}))},initDemoImportUI:function(){if(a("#theme-install-demos").length&&a(".alpha-install-editors > *").length){a(document.body).on("click",".alpha-install-demos .theme-wrapper",(function(i){if(!i.target.classList.contains("demo-preview")){i.preventDefault(),a("#alpha-install-options").show();var t=a(this),s=t.closest(".alpha-install-demos"),n=s.find(".alpha-install-demo"),l=t.find(".plugins-used").data("editor");n.find(".theme-screenshot").attr("src",t.find(".theme-screenshot").attr("src").replace("setup-wizard/demo-","setup-wizard/demo-lg-").replace("setup-wizard/rtl-demo-","setup-wizard/rtl-demo-lg-")),n.find(".theme-link").attr("href",t.find(".theme-name").attr("data-live-url")),n.find(".alpha-install-demo-header h2").html('<span class="alpha-mini-logo"></span>'+alpha_setup_wizard_params.texts.demo_import+" - "+t.find(".theme-name .name").text()).data("title",t.find(".theme-name .name").text()),n.find(".alpha-install-editors>label").addClass("d-none"),n.find(".plugins-used").remove(),a("#alpha-install-demo-type").val(t.find(".theme-name").attr("id")),a("#import-status .alpha-installing-options>div").removeClass("prepare installing installed"),a("#import-status .import-result").html(""),a("#import-status .alpha-installing-notes").removeClass("show"),t.find(".plugins-used").length&&t.find(".plugins-used").clone().insertBefore(s.find(".alpha-install-section")),e(),l.forEach((function(e){n.find("#alpha-"+e+"-demo").parent().removeClass("d-none")}));var o=n.find('[for="alpha-js_composer-demo"]');"rtl-demo-1"==t.find(".theme-name").attr("id")?(o.hide(),n.find('[for="alpha-elementor-demo"]').trigger("click")):o.show(),a.magnificPopup.open({items:{src:".alpha-install-demo"},type:"inline",mainClass:"mfp-with-zoom",closeOnBgClick:!1,zoom:{enabled:!0,duration:300},callbacks:{open:function(){var e=window.innerWidth-document.body.clientWidth;a(document.body).hasClass("rtl")&&a("html").css({"margin-left":e,"margin-right":0})},afterClose:function(){a("html").css({"margin-left":0,"margin-right":0})}}})}}));var e=function(){a(".alpha-install-editors input").each((function(){a("#alpha-install-options .plugins-used [data-plugin="+this.value+"]").css("display",this.checked?"":"none")})),a(".alpha-install-demo .plugins-used [data-plugin]").filter((function(){return"none"!=this.style.display&&null==this.querySelector(".demo-plugin.installed")})).length?a(".alpha-install-demo .alpha-install-section").slideUp():a(".alpha-install-demo .alpha-install-section").slideDown()};a(".alpha-install-editors input").on("change",e),a(".alpha-install-editors input").eq(0).trigger("click"),a(".alpha-import-yes").on("click",(function(){if(confirm(alpha_setup_wizard_params.texts.confirm_override)){o.addAlertLeavePage();var e=a("#alpha-install-demo-type").val(),i=e,t="elementor";a("#alpha-visualcomposer-demo").is(":checked")?(i="vc-"+e,t="vc"):a("#alpha-js_composer-demo").is(":checked")&&(i="wpb-"+e,t="wpb"),a("#import-status .alpha-import-dummy > span:last-child").html("");var s={demo:e,demo_slug:i,builder:t,import_options:a("#alpha-import-options").is(":checked"),reset_menus:a("#alpha-reset-menus").is(":checked"),reset_widgets:a("#alpha-reset-widgets").is(":checked"),import_dummy:a("#alpha-import-dummy").is(":checked"),import_widgets:a("#alpha-import-widgets").is(":checked"),override_contents:a("#alpha-override-contents").is(":checked"),dummy_action:a(this).hasClass("alternative")?"alpha_import_dummy_step_by_step":"alpha_import_dummy"};if(s.demo){a("#import-status .import-result").html("");var n={action:"alpha_download_demo_file",demo:i,wpnonce:alpha_setup_wizard_params.wpnonce};a.post(ajaxurl,n,(function(e){try{e=a.parseJSON(e)}catch(e){}e&&e.process&&"success"==e.process?o.alpha_import_options(s):e&&e.process&&"error"==e.process?o.alpha_import_failed(s,e.message):o.alpha_import_failed(s)})).fail((function(e){o.alpha_import_failed(s)})),s.import_options&&a(".alpha-installing-options .alpha-import-options").addClass("prepare"),s.import_dummy&&a(".alpha-installing-options .alpha-import-dummy").addClass("prepare"),s.reset_menus&&a(".alpha-installing-options .alpha-reset-menus").addClass("prepare"),s.reset_widgets&&a(".alpha-installing-options .alpha-reset-widgets").addClass("prepare"),s.import_widgets&&a(".alpha-installing-options .alpha-import-widgets").addClass("prepare"),a(".alpha-install-demo .alpha-install-demo-header h2").html('<span class="alpha-mini-logo"></span>'+alpha_setup_wizard_params.texts.installing+" "+a("#"+e).find(".name").text()).addClass("text-start"),a("#alpha-install-options").hide(),a("#import-status .alpha-installing-notes").addClass("show")}}}))}},alertLeavePage:function(e){return e.returnValue=alpha_setup_wizard_params.texts.leave_confirm},addAlertLeavePage:function(){a(".alpha-import-yes.btn-primary").attr("disabled","disabled"),a(".mfp-bg, .mfp-wrap").off("click"),a(window).on("beforeunload",this.alertLeavePage)},removeAlertLeavePage:function(){a(".alpha-import-yes.btn-primary").hasClass("disabled")||a(".alpha-import-yes.btn-primary").prop("disabled",!1),a(".mfp-bg, .mfp-wrap, .mfp-close").on("click",(function(e){a(e.target).is(".mfp-wrap .mfp-content *:not(.mfp-close)")||(e.preventDefault(),a.magnificPopup.close())})),a(window).off("beforeunload",this.alertLeavePage)},showImportMessage:function(e,i){i&&(i.startsWith("success")&&(i=i.slice(7)),i.startsWith("error")&&(i=i.slice(5)),i&&a("#import-status .import-result").html(i),a("#import-status .alpha-installing-notes").removeClass("show"))},alpha_import_options:function(e){if(e.demo)if(e.import_options){var i={action:"alpha_import_options",demo:e.demo_slug,import_dummy:a("#alpha-import-dummy").is(":checked"),wpnonce:alpha_setup_wizard_params.wpnonce};a(".alpha-installing-options .alpha-import-options").addClass("installing"),a.post(ajaxurl,i,(function(i){a(".alpha-installing-options .alpha-import-options").removeClass("installing").addClass("installed"),o.alpha_reset_menus(e)})).fail((function(i){a(".alpha-installing-options .alpha-import-options").removeClass("installing"),o.alpha_reset_menus(e)}))}else o.alpha_reset_menus(e);else o.removeAlertLeavePage()},alpha_reset_menus:function(e){if(e.demo)if(e.reset_menus){var i={action:"alpha_reset_menus",import_shortcodes:e.import_shortcodes,wpnonce:alpha_setup_wizard_params.wpnonce};a(".alpha-installing-options .alpha-reset-menus").addClass("installing"),a.post(ajaxurl,i,(function(i){a(".alpha-installing-options .alpha-reset-menus").removeClass("installing").addClass("installed"),o.alpha_reset_widgets(e)})).fail((function(i){a(".alpha-installing-options .alpha-reset-menus").removeClass("installing"),o.alpha_reset_widgets(e)}))}else o.alpha_reset_widgets(e);else o.removeAlertLeavePage()},alpha_reset_widgets:function(e){if(e.demo)if(e.reset_widgets){var i={action:"alpha_reset_widgets",wpnonce:alpha_setup_wizard_params.wpnonce};a(".alpha-installing-options .alpha-reset-widgets").addClass("installing"),a.post(ajaxurl,i,(function(i){a(".alpha-installing-options .alpha-reset-widgets").removeClass("installing").addClass("installed"),o.alpha_import_dummy(e)})).fail((function(i){a(".alpha-installing-options .alpha-reset-widgets").removeClass("installing"),o.alpha_import_dummy(e)}))}else o.alpha_import_dummy(e);else o.removeAlertLeavePage()},alpha_import_dummy:function(e){if(e.demo)if(e.import_dummy){var i={action:e.dummy_action,process:"import_start",demo:e.demo_slug,override_contents:e.override_contents,wpnonce:alpha_setup_wizard_params.wpnonce};this.dummy_index=0,this.dummy_count=0,this.dummy_process="import_start",o.alpha_import_dummy_process(e,i),a(".alpha-installing-options .alpha-import-dummy").addClass("installing")}else o.alpha_import_widgets(e);else o.removeAlertLeavePage()},alpha_import_dummy_process:function(e,i){a.post(ajaxurl,i,(function(t){if(t&&/^[\],:{}\s]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))if("complete"!=(t=a.parseJSON(t)).process){var s={action:i.action,wpnonce:alpha_setup_wizard_params.wpnonce};t.process&&(s.process=t.process),t.index&&(s.index=t.index),s.demo=e.demo_slug,s.override_contents=e.override_contents,o.alpha_import_dummy_process(e,s),this.dummy_index=t.index,this.dummy_count=t.count,this.dummy_process=t.process,this.dummy_count&&this.dummy_index&&a("#import-status .alpha-import-dummy > span:last-child").html("("+Math.min(this.dummy_index/this.dummy_count*100,100).toFixed(0)+"%)")}else"error"==t.process?o.alpha_import_failed(e):(o.showImportMessage(e.demo,t.message),o.alpha_import_revsliders(e),a(".alpha-installing-options .alpha-import-dummy").removeClass("installing").addClass("installed"));else a(".alpha-installing-options .alpha-import-dummy").removeClass("installing"),o.alpha_import_failed(e)})).fail((function(a){var t;"alpha_import_dummy"==i.action?o.alpha_import_failed(e):this.dummy_index<this.dummy_count?((t={action:i.action,wpnonce:alpha_setup_wizard_params.wpnonce}).process=this.dummy_process,t.index=++this.dummy_index,t.demo=e.demo,o.alpha_import_dummy_process(e,t)):((t={action:i.action,wpnonce:alpha_setup_wizard_params.wpnonce}).process=this.dummy_process,t.demo=e.demo,o.alpha_import_dummy_process(e,t))}))},alpha_import_revsliders:function(e){if(e.demo)if(e.import_dummy){var i=e.demo,t={action:"alpha_import_revsliders",demo:e.demo_slug,wpnonce:alpha_setup_wizard_params.wpnonce};a.post(ajaxurl,t,(function(a){a&&o.showImportMessage(i,a),o.alpha_import_ess_grid(e)})).fail((function(a){o.alpha_import_ess_grid(e)}))}else o.alpha_import_ess_grid(e);else o.removeAlertLeavePage()},alpha_import_ess_grid:function(e){if(e.demo)if(e.import_dummy){var i=e.demo,t={action:"alpha_import_ess_grids",demo:e.demo_slug,wpnonce:alpha_setup_wizard_params.wpnonce};a.post(ajaxurl,t,(function(a){a&&o.showImportMessage(i,a),o.alpha_import_widgets(e)})).fail((function(a){o.alpha_import_widgets(e)}))}else o.alpha_import_widgets(e);else o.removeAlertLeavePage()},alpha_import_widgets:function(e){if(e.demo)if(e.import_widgets){var i={action:"alpha_import_widgets",demo:e.demo_slug,wpnonce:alpha_setup_wizard_params.wpnonce};a(".alpha-installing-options .alpha-import-widgets").addClass("installing"),a.post(ajaxurl,i,(function(i){i&&(a(".alpha-installing-options .alpha-import-widgets").removeClass("installing").addClass("installed"),o.alpha_import_finished(e))}))}else o.alpha_import_finished(e);else o.removeAlertLeavePage()},alpha_delete_tmp_dir:function(e){var i={action:"alpha_delete_tmp_dir",demo:e,wpnonce:alpha_setup_wizard_params.wpnonce};a.post(ajaxurl,i,(function(e){}))},alpha_import_failed:function(e,i){o.alpha_delete_tmp_dir(e.demo_slug),i&&o.showImportMessage(e.demo,i),o.removeAlertLeavePage(),a(".alpha-install-demo .alpha-install-demo-header h2").html('<span class="alpha-mini-logo"></span>'+alpha_setup_wizard_params.texts.install_failed),a("#alpha-install-options").show(),a("#import-status .alpha-installing-options>div").removeClass("prepare installing installed")},alpha_import_finished:function(e){e.demo?(o.alpha_delete_tmp_dir(e.demo_slug),setTimeout((function(){a("#wp-admin-bar-view-site").length?o.showImportMessage(e.demo,'<a href="'+a("#wp-admin-bar-view-site a").attr("href")+'" target="_blank">'+alpha_setup_wizard_params.texts.visit_your_site+"</a>"):a("#current_site_link").length&&o.showImportMessage(e.demo,'<a href="'+a("#current_site_link").val()+'" target="_blank">'+alpha_setup_wizard_params.texts.visit_your_site+"</a>"),a(".alpha-install-demo .alpha-install-demo-header h2").html('<span class="alpha-mini-logo"></span>'+alpha_setup_wizard_params.texts.install_finished),o.removeAlertLeavePage(),a(".alpha-remove-demo-title.mfp-hide").removeClass("mfp-hide").hide().slideDown(),a(".alpha-remove-demo .button").prop("disabled",!1)}),300)):removeAlertLeavePage()},initDemoRemove:function(){a(".btn-remove-demo-contents").on("click",(function(e){e.preventDefault(),a(".alpha-remove-demo .remove-status").html(""),a.magnificPopup.open({items:{src:".alpha-remove-demo"},type:"inline",mainClass:"mfp-with-zoom",zoom:{enabled:!0,duration:300}})}));var e=function(i,t){var s=i.shift();if(void 0!==s){a(".alpha-remove-demo .button").prop("disabled",!0);var n="Other Contents";a('.alpha-remove-demo input[value="'+s+'"]').length&&(n=a('.alpha-remove-demo input[value="'+s+'"]').parent().text());var l='<h5 class="alpha-installing-options"><span class="installing"><span class="alpha-loading"></span> Removing '+n+"</span></h5>";a(".alpha-remove-demo .remove-status").html(l);var o={action:"alpha_sw_remove_demo",wpnonce:alpha_setup_wizard_params.wpnonce};-1===s.indexOf("sliders")&&-1===s.indexOf("widgets")&&-1===s.indexOf("options")?(o.type="posts",o.post_type=s):o.type=s,a.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:o,success:function(a){a&&a.success&&e(i,t)},failure:function(){a(".alpha-remove-demo .button").prop("disabled",!1),a(".alpha-remove-demo .remove-status").html("<h5>Removed failed. Please refresh and try again.</h5>")}})}else a(".alpha-remove-demo .remove-status").html('<h5 class="success">Removed successfully.</h5>'),a(".alpha-remove-demo .button").prop("disabled",!1)};a(".alpha-remove-demo .button").on("click",(function(i){i.preventDefault();var t=[],s=!1;a(this).closest(".alpha-remove-demo").find('input[type="checkbox"]:checked').each((function(){a(this).val()?t.push(a(this).val()):s=!0})),s&&t.push("other"),t.length&&e(t,s)}))}},r={init:function(){a("#alpha_versions_table .theme-rollback").on("click",this.themeRollback),a("#alpha_versions_table .plugin-rollback").on("click",this.pluginRollback)},doLoading:function(e){e.addClass("disabled"),e.closest(".run-tool").addClass("installing"),e.append('<span class="alpha-loading"></span>')},endLoading:function(e){e.children(".alpha-loading").remove(),e.closest(".run-tool").removeClass("installing"),e.removeClass("disabled")},themeRollback:function(i){var t=a(this);confirm("Do you want to really downgrade theme?")&&(r.doLoading(t),a.ajax({url:ajaxurl,type:"post",dataType:"JSON",data:{action:"alpha_modify_theme_auto_updates",wpnonce:alpha_rollback_params.wpnonce,version:a("#theme-versions").val()},success:function(a){1==a&&e.updates.ajax("update-theme",{slug:"alpha",success:function(){r.endLoading(t),window.location.reload(!0)},error:function(a){r.endLoading(t),alert(e.i18n.__("failure"))}})},failure:function(){}})),i.preventDefault()},pluginRollback:function(i){var t=a(this),s=t.closest(".plugin-version");confirm("Do you want to really downgrade plugin?")&&a.ajax({url:ajaxurl,type:"post",dataType:"JSON",data:{action:"alpha_modify_plugin_auto_updates",wpnonce:alpha_rollback_params.wpnonce,version:s.find(".plugin-versions").val(),slug:s.data("slug"),plugin:s.data("url")},success:function(a){1==a&&(r.doLoading(t),e.updates.ajax("update-plugin",{plugin:s.data("url"),slug:s.data("slug"),success:function(){r.endLoading(t),window.location.reload(!0)},error:function(a){r.endLoading(t),alert(e.i18n.__("failure"))}}))},failure:function(){}}),i.preventDefault()}};i.Wizard=n,i.SetupWizard=o,i.OptimizeWizard=l,i.Rollback=r,a(document).ready((function(){n.init(),l.init(),o.init(),r.init()}))}(wp,jQuery);